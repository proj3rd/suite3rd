#!/usr/bin/env node
(()=>{"use strict";var e={677:(e,t,r)=>{const n=r(754),o=r(51),s=r(918),i=r(665),c={};e.exports=function(e,t,r={}){if(n(e&&"object"==typeof e,"Invalid defaults value: must be an object"),n(!t||!0===t||"object"==typeof t,"Invalid source value: must be true, falsy or an object"),n("object"==typeof r,"Invalid options: must be an object"),!t)return null;if(r.shallow)return c.applyToDefaultsWithShallow(e,t,r);const i=o(e);if(!0===t)return i;const a=void 0!==r.nullOverride&&r.nullOverride;return s(i,t,{nullOverride:a,mergeArrays:!1})},c.applyToDefaultsWithShallow=function(e,t,r){const a=r.shallow;n(Array.isArray(a),"Invalid keys");const f=new Map,u=!0===t?null:new Set;for(let r of a){r=Array.isArray(r)?r:r.split(".");const n=i(e,r);n&&"object"==typeof n?f.set(n,u&&i(t,r)||n):u&&u.add(r)}const l=o(e,{},f);if(!u)return l;for(const e of u)c.reachCopy(l,t,e);const p=void 0!==r.nullOverride&&r.nullOverride;return s(l,t,{nullOverride:p,mergeArrays:!1})},c.reachCopy=function(e,t,r){for(const e of r){if(!(e in t))return;const r=t[e];if("object"!=typeof r||null===r)return;t=r}const n=t;let o=e;for(let e=0;e<r.length-1;++e){const t=r[e];"object"!=typeof o[t]&&(o[t]={}),o=o[t]}o[r[r.length-1]]=n}},754:(e,t,r)=>{const n=r(966),o=r(19),s=e.exports=function(e,...t){if(e)return;if(1===t.length&&t[0]instanceof Error)throw t[0];const r=t.filter((e=>""!==e)).map((e=>"string"==typeof e?e:e instanceof Error?e.message:o(e)));throw new n(r.join(" "),s)}},966:e=>{e.exports=class extends Error{name="AssertError";constructor(e,t){super(e||"Unknown error"),"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}}},40:e=>{const t={};e.exports=t.Bench=class{constructor(){this.ts=0,this.reset()}reset(){this.ts=t.Bench.now()}elapsed(){return t.Bench.now()-this.ts}static now(){const e=process.hrtime();return 1e3*e[0]+e[1]/1e6}}},543:(e,t,r)=>{const n=r(838);e.exports=function(){return new Promise(n)}},51:(e,t,r)=>{const n=r(665),o=r(907),s=r(703),i={needsProtoHack:new Set([o.set,o.map,o.weakSet,o.weakMap])};e.exports=i.clone=function(e,t={},r=null){if("object"!=typeof e||null===e)return e;let n=i.clone,c=r;if(t.shallow){if(!0!==t.shallow)return i.cloneWithShallow(e,t);n=e=>e}else if(c){const t=c.get(e);if(t)return t}else c=new Map;const a=o.getInternalProto(e);switch(a){case o.buffer:return Buffer?.from(e);case o.date:return new Date(e.getTime());case o.regex:case o.url:return new a.constructor(e)}const f=i.base(e,a,t);if(f===e)return e;if(c&&c.set(e,f),a===o.set)for(const r of e)f.add(n(r,t,c));else if(a===o.map)for(const[r,o]of e)f.set(r,n(o,t,c));const u=s.keys(e,t);for(const r of u){if("__proto__"===r)continue;if(a===o.array&&"length"===r){f.length=e.length;continue}const s=Object.getOwnPropertyDescriptor(e,r);s?s.get||s.set?Object.defineProperty(f,r,s):s.enumerable?f[r]=n(e[r],t,c):Object.defineProperty(f,r,{enumerable:!1,writable:!0,configurable:!0,value:n(e[r],t,c)}):Object.defineProperty(f,r,{enumerable:!0,writable:!0,configurable:!0,value:n(e[r],t,c)})}return f},i.cloneWithShallow=function(e,t){const r=t.shallow;(t=Object.assign({},t)).shallow=!1;const o=new Map;for(const t of r){const r=n(e,t);"object"!=typeof r&&"function"!=typeof r||o.set(r,r)}return i.clone(e,t,o)},i.base=function(e,t,r){if(!1===r.prototype)return i.needsProtoHack.has(t)?new t.constructor:t===o.array?[]:{};const n=Object.getPrototypeOf(e);if(n&&n.isImmutable)return e;if(t===o.array){const e=[];return n!==t&&Object.setPrototypeOf(e,n),e}if(i.needsProtoHack.has(t)){const e=new n.constructor;return n!==t&&Object.setPrototypeOf(e,n),e}return Object.create(n)}},50:(e,t,r)=>{const n=r(754),o=r(216),s=r(132),i=r(703),c={};e.exports=function(e,t,r={}){return"object"!=typeof t&&(t=[t]),n(!Array.isArray(t)||t.length,"Values array cannot be empty"),"string"==typeof e?c.string(e,t,r):Array.isArray(e)?c.array(e,t,r):(n("object"==typeof e,"Reference must be string or an object"),c.object(e,t,r))},c.array=function(e,t,r){if(Array.isArray(t)||(t=[t]),!e.length)return!1;if(r.only&&r.once&&e.length!==t.length)return!1;let n;const o=new Map;for(const e of t)if(r.deep&&e&&"object"==typeof e){n=n??c.compare(r);let t=!1;for(const[r,s]of o.entries())if(n(r,e)){++s.allowed,t=!0;break}t||o.set(e,{allowed:1,hits:0})}else{const t=o.get(e);t?++t.allowed:o.set(e,{allowed:1,hits:0})}let s=0;for(const t of e){let e;if(r.deep&&t&&"object"==typeof t){n=n??c.compare(r);for(const[r,s]of o.entries())if(n(r,t)){e=s;break}}else e=o.get(t);if(e&&(++e.hits,++s,r.once&&e.hits>e.allowed))return!1}if(r.only&&s!==e.length)return!1;for(const e of o.values())if(e.hits!==e.allowed&&e.hits<e.allowed&&!r.part)return!1;return!!s},c.object=function(e,t,r){n(void 0===r.once,"Cannot use option once with object");const o=i.keys(e,r);if(!o.length)return!1;if(Array.isArray(t))return c.array(o,t,r);const s=Object.getOwnPropertySymbols(t).filter((e=>t.propertyIsEnumerable(e))),a=[...Object.keys(t),...s],f=c.compare(r),u=new Set(a);for(const n of o)if(u.has(n)){if(!f(t[n],e[n]))return!1;u.delete(n)}else if(r.only)return!1;return!u.size||!!r.part&&u.size<a.length},c.string=function(e,t,r){if(""===e)return 1===t.length&&""===t[0]||!r.once&&!t.some((e=>""!==e));const o=new Map,i=[];for(const e of t)if(n("string"==typeof e,"Cannot compare string reference to non-string value"),e){const t=o.get(e);t?++t.allowed:(o.set(e,{allowed:1,hits:0}),i.push(s(e)))}else if(r.once||r.only)return!1;if(!i.length)return!0;const c=new RegExp(`(${i.join("|")})`,"g"),a=e.replace(c,((e,t)=>(++o.get(t).hits,"")));if(r.only&&a)return!1;let f=!1;for(const e of o.values())if(e.hits&&(f=!0),e.hits!==e.allowed){if(e.hits<e.allowed&&!r.part)return!1;if(r.once)return!1}return!!f},c.compare=function(e){if(!e.deep)return c.shallow;const t=void 0!==e.only,r=void 0!==e.part,n={prototype:t?e.only:!!r&&!e.part,part:t?!e.only:!!r&&e.part};return(e,t)=>o(e,t,n)},c.shallow=function(e,t){return e===t}},216:(e,t,r)=>{const n=r(907),o={mismatched:null};e.exports=function(e,t,r){return r=Object.assign({prototype:!0},r),!!o.isDeepEqual(e,t,r,[])},o.isDeepEqual=function(e,t,r,s){if(e===t)return 0!==e||1/e==1/t;const i=typeof e;if(i!==typeof t)return!1;if(null===e||null===t)return!1;if("function"===i){if(!r.deepFunction||e.toString()!==t.toString())return!1}else if("object"!==i)return e!=e&&t!=t;const c=o.getSharedType(e,t,!!r.prototype);switch(c){case n.buffer:return Buffer&&Buffer.prototype.equals.call(e,t);case n.promise:return e===t;case n.regex:case n.url:return e.toString()===t.toString();case o.mismatched:return!1}for(let r=s.length-1;r>=0;--r)if(s[r].isSame(e,t))return!0;s.push(new o.SeenEntry(e,t));try{return!!o.isDeepEqualObj(c,e,t,r,s)}finally{s.pop()}},o.getSharedType=function(e,t,r){if(r)return Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?o.mismatched:n.getInternalProto(e);const s=n.getInternalProto(e);return s!==n.getInternalProto(t)?o.mismatched:s},o.valueOf=function(e){const t=e.valueOf;if(void 0===t)return e;try{return t.call(e)}catch(e){return e}},o.hasOwnEnumerableProperty=function(e,t){return Object.prototype.propertyIsEnumerable.call(e,t)},o.isSetSimpleEqual=function(e,t){for(const r of Set.prototype.values.call(e))if(!Set.prototype.has.call(t,r))return!1;return!0},o.isDeepEqualObj=function(e,t,r,s,i){const{isDeepEqual:c,valueOf:a,hasOwnEnumerableProperty:f}=o,{keys:u,getOwnPropertySymbols:l}=Object;if(e===n.array){if(!s.part){if(t.length!==r.length)return!1;for(let e=0;e<t.length;++e)if(!c(t[e],r[e],s,i))return!1;return!0}for(const e of t)for(const t of r)if(c(e,t,s,i))return!0}else if(e===n.set){if(t.size!==r.size)return!1;if(!o.isSetSimpleEqual(t,r)){const e=new Set(Set.prototype.values.call(r));for(const r of Set.prototype.values.call(t)){if(e.delete(r))continue;let t=!1;for(const n of e)if(c(r,n,s,i)){e.delete(n),t=!0;break}if(!t)return!1}}}else if(e===n.map){if(t.size!==r.size)return!1;for(const[e,n]of Map.prototype.entries.call(t)){if(void 0===n&&!Map.prototype.has.call(r,e))return!1;if(!c(n,Map.prototype.get.call(r,e),s,i))return!1}}else if(e===n.error&&(t.name!==r.name||t.message!==r.message))return!1;const p=a(t),y=a(r);if((t!==p||r!==y)&&!c(p,y,s,i))return!1;const h=u(t);if(!s.part&&h.length!==u(r).length&&!s.skip)return!1;let m=0;for(const e of h)if(s.skip&&s.skip.includes(e))void 0===r[e]&&++m;else{if(!f(r,e))return!1;if(!c(t[e],r[e],s,i))return!1}if(!s.part&&h.length-m!==u(r).length)return!1;if(!1!==s.symbols){const e=l(t),n=new Set(l(r));for(const o of e){if(!s.skip?.includes(o))if(f(t,o)){if(!f(r,o))return!1;if(!c(t[o],r[o],s,i))return!1}else if(f(r,o))return!1;n.delete(o)}for(const e of n)if(f(r,e))return!1}return!0},o.SeenEntry=class{constructor(e,t){this.obj=e,this.ref=t}isSame(e,t){return this.obj===e&&this.ref===t}}},900:(e,t,r)=>{const n=r(754);e.exports=function(e){return n(/^[ \w\!#\$%&'\(\)\*\+,\-\.\/\:;<\=>\?@\[\]\^`\{\|\}~\"\\]*$/.test(e),"Bad attribute value ("+e+")"),e.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')}},30:e=>{const t={};e.exports=function(e){if(!e)return"";let r="";for(let n=0;n<e.length;++n){const o=e.charCodeAt(n);t.isSafe(o)?r+=e[n]:r+=t.escapeHtmlChar(o)}return r},t.escapeHtmlChar=function(e){const r=t.namedHtml.get(e);return r||(e>=256?"&#"+e+";":`&#x${e.toString(16).padStart(2,"0")};`)},t.isSafe=function(e){return t.safeCharCodes.has(e)},t.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),t.safeCharCodes=function(){const e=new Set;for(let t=32;t<123;++t)(t>=97||t>=65&&t<=90||t>=48&&t<=57||32===t||46===t||44===t||45===t||58===t||95===t)&&e.add(t);return e}()},877:e=>{const t={};e.exports=function(e){return e?e.replace(/[<>&\u2028\u2029]/g,t.escape):""},t.escape=function(e){return t.replacements.get(e)},t.replacements=new Map([["<","\\u003c"],[">","\\u003e"],["&","\\u0026"],["\u2028","\\u2028"],["\u2029","\\u2029"]])},132:e=>{e.exports=function(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},36:e=>{const t={};e.exports=t.flatten=function(e,r){const n=r||[];for(const r of e)Array.isArray(r)?t.flatten(r,n):n.push(r);return n}},838:e=>{e.exports=function(){}},910:(e,t,r)=>{t.applyToDefaults=r(677),t.assert=r(754),t.AssertError=r(966),t.Bench=r(40),t.block=r(543),t.clone=r(51),t.contain=r(50),t.deepEqual=r(216),t.escapeHeaderAttribute=r(900),t.escapeHtml=r(30),t.escapeJson=r(877),t.escapeRegex=r(132),t.flatten=r(36),t.ignore=r(838),t.intersect=r(691),t.isPromise=r(295),t.merge=r(918),t.once=r(253),t.reach=r(665),t.reachTemplate=r(775),t.stringify=r(19),t.wait=r(257)},691:e=>{const t={};e.exports=function(e,r,n={}){if(!e||!r)return n.first?null:[];const o=[],s=Array.isArray(e)?new Set(e):e,i=new Set;for(const e of r)if(t.has(s,e)&&!i.has(e)){if(n.first)return e;o.push(e),i.add(e)}return n.first?null:o},t.has=function(e,t){return"function"==typeof e.has?e.has(t):void 0!==e[t]}},295:e=>{e.exports=function(e){return"function"==typeof e?.then}},918:(e,t,r)=>{const n=r(754),o=r(51),s=r(703),i={};e.exports=i.merge=function(e,t,r){if(n(e&&"object"==typeof e,"Invalid target value: must be an object"),n(null==t||"object"==typeof t,"Invalid source value: must be null, undefined, or an object"),!t)return e;if(r=Object.assign({nullOverride:!0,mergeArrays:!0},r),Array.isArray(t)){n(Array.isArray(e),"Cannot merge array onto an object"),r.mergeArrays||(e.length=0);for(let n=0;n<t.length;++n)e.push(o(t[n],{symbols:r.symbols}));return e}const c=s.keys(t,r);for(let n=0;n<c.length;++n){const s=c[n];if("__proto__"===s||!Object.prototype.propertyIsEnumerable.call(t,s))continue;const a=t[s];if(a&&"object"==typeof a){if(e[s]===a)continue;!e[s]||"object"!=typeof e[s]||Array.isArray(e[s])!==Array.isArray(a)||a instanceof Date||Buffer&&Buffer.isBuffer(a)||a instanceof RegExp?e[s]=o(a,{symbols:r.symbols}):i.merge(e[s],a,r)}else(null!=a||r.nullOverride)&&(e[s]=a)}return e}},253:e=>{const t=Symbol("wrapped");e.exports=function(e){if(e[t])return e;let r=!1;const n=function(...t){r||(r=!0,e(...t))};return n[t]=!0,n}},665:(e,t,r)=>{const n=r(754),o={};e.exports=function(e,t,r){if(!1===t||null==t)return e;"string"==typeof(r=r||{})&&(r={separator:r});const s=Array.isArray(t);n(!s||!r.separator,"Separator option is not valid for array-based chain");const i=s?t:t.split(r.separator||".");let c=e;for(let e=0;e<i.length;++e){let s=i[e];const a=r.iterables&&o.iterables(c);if(Array.isArray(c)||"set"===a){const e=Number(s);Number.isInteger(e)&&(s=e<0?c.length+e:e)}if(!c||"function"==typeof c&&!1===r.functions||!a&&void 0===c[s]){n(!r.strict||e+1===i.length,"Missing segment",s,"in reach path ",t),n("object"==typeof c||!0===r.functions||"function"!=typeof c,"Invalid segment",s,"in reach path ",t),c=r.default;break}c=a?"set"===a?[...c][s]:c.get(s):c[s]}return c},o.iterables=function(e){return e instanceof Set?"set":e instanceof Map?"map":void 0}},775:(e,t,r)=>{const n=r(665);e.exports=function(e,t,r){return t.replace(/{([^{}]+)}/g,((t,o)=>n(e,o,r)??""))}},19:e=>{e.exports=function(...e){try{return JSON.stringify(...e)}catch(e){return"[Cannot display object: "+e.message+"]"}}},907:(e,t)=>{const r={};t=e.exports={array:Array.prototype,buffer:Buffer&&Buffer.prototype,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,url:URL.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},r.typeMap=new Map([["[object Error]",t.error],["[object Map]",t.map],["[object Promise]",t.promise],["[object Set]",t.set],["[object URL]",t.url],["[object WeakMap]",t.weakMap],["[object WeakSet]",t.weakSet]]),t.getInternalProto=function(e){if(Array.isArray(e))return t.array;if(Buffer&&e instanceof Buffer)return t.buffer;if(e instanceof Date)return t.date;if(e instanceof RegExp)return t.regex;if(e instanceof Error)return t.error;const n=Object.prototype.toString.call(e);return r.typeMap.get(n)||t.generic}},703:(e,t)=>{t.keys=function(e,t={}){return!1!==t.symbols?Reflect.ownKeys(e):Object.getOwnPropertyNames(e)}},257:e=>{e.exports=function(e,t,r){if("bigint"==typeof e&&(e=Number(e)),e>=Number.MAX_SAFE_INTEGER&&(e=1/0),"number"!=typeof e&&void 0!==e)throw new TypeError("Timeout must be a number or bigint");return new Promise((n=>{const o=r?r.setTimeout:setTimeout,s=()=>{const r=Math.min(e,2147483647);e-=r,o((()=>e>0?s():n(t)),r)};e!==1/0&&s()}))}},807:(e,t,r)=>{const{assert:n}=r(910),o={};t.y=class{constructor(){this._items=[],this.nodes=[]}add(e,t){const r=[].concat((t=t??{}).before??[]),o=[].concat(t.after??[]),s=t.group??"?",i=t.sort??0;n(!r.includes(s),`Item cannot come before itself: ${s}`),n(!r.includes("?"),"Item cannot come before unassociated items"),n(!o.includes(s),`Item cannot come after itself: ${s}`),n(!o.includes("?"),"Item cannot come after unassociated items"),Array.isArray(e)||(e=[e]);for(const t of e){const e={seq:this._items.length,sort:i,before:r,after:o,group:s,node:t};this._items.push(e)}if(!t.manual){const e=this._sort();n(e,"item","?"!==s?`added into group ${s}`:"","created a dependencies error")}return this.nodes}merge(e){Array.isArray(e)||(e=[e]);for(const t of e)if(t)for(const e of t._items)this._items.push(Object.assign({},e));this._items.sort(o.mergeSort);for(let e=0;e<this._items.length;++e)this._items[e].seq=e;const t=this._sort();return n(t,"merge created a dependencies error"),this.nodes}sort(){const e=this._sort();return n(e,"sort created a dependencies error"),this.nodes}_sort(){const e={},t=Object.create(null),r=Object.create(null);for(const n of this._items){const o=n.seq,s=n.group;r[s]=r[s]??[],r[s].push(o),e[o]=n.before;for(const e of n.after)t[e]=t[e]??[],t[e].push(o)}for(const t in e){const n=[];for(const o in e[t]){const s=e[t][o];r[s]=r[s]??[],n.push(...r[s])}e[t]=n}for(const n in t)if(r[n])for(const o of r[n])e[o].push(...t[n]);const n={};for(const t in e){const r=e[t];for(const e of r)n[e]=n[e]??[],n[e].push(t)}const o={},s=[];for(let e=0;e<this._items.length;++e){let t=e;if(n[e]){t=null;for(let e=0;e<this._items.length;++e){if(!0===o[e])continue;n[e]||(n[e]=[]);const r=n[e].length;let s=0;for(let t=0;t<r;++t)o[n[e][t]]&&++s;if(s===r){t=e;break}}}null!==t&&(o[t]=!0,s.push(t))}if(s.length!==this._items.length)return!1;const i={};for(const e of this._items)i[e.seq]=e;this._items=[],this.nodes=[];for(const e of s){const t=i[e];this.nodes.push(t.node),this._items.push(t)}return!0}},o.mergeSort=(e,t)=>e.sort===t.sort?0:e.sort<t.sort?-1:1}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}(()=>{const e=require("fs");var t=r(807);const n=/^\s*?(sub)?module\s+?(.+?)\s*?\{/gm,o=/^\s*?import\s+?(.+?)\s*?\{/gm,s=new t.y;(0,e.readdirSync)(".",{encoding:"utf8",recursive:!0}).filter((e=>e.endsWith(".yang"))).forEach((t=>{const r=(0,e.readFileSync)(t,"utf8"),i=Array.from(r.matchAll(n)).map((e=>[e[2],e.index])),c=Array.from(r.matchAll(o)).map((e=>[e[1],e.index]));if(1!==i.length)throw Error("Handling of zero module or multiple modules is not yet implemented");s.add(t,{group:i[0][0],after:c.map((e=>e[0]))})}));const i=[];s.nodes.forEach((t=>{const r=(0,e.readFileSync)(t,"utf8");i.push(r)})),(0,e.writeFileSync)("3gpp.yang",i.join("\n"))})()})();